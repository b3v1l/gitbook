# Run Command Script

## Run Command Scripts

## Azure Run Command Scripts

### Azure Cloud Shell

* Command can be executed from
  * azure portal run commands
  * Az CLI tool
* Can run scripts (linux shell script or powershell if playing with Windows)
* Require at least "Contributor" access



![](<../../../../../.gitbook/assets/image (184).png>)

* Run Command Script

![](<../../../../../.gitbook/assets/image (38) (2).png>)

### Az CLI Tool

Import Az module, list VM, execute commands

```
 import-module az
 $creds = Get-Credential
 Get-AzVM
 Invoke-AzVMRunCommand -ResourceGroupName WORKSTATIONS-RESOURCES -VMName WindowsDesktop -CommandId RunPowerShellScript -ScriptPath 'c:\users\b3v1l\desktop\rev443.ps1'
```

![](<../../../../../.gitbook/assets/image (12) (1).png>)

![](<../../../../../.gitbook/assets/image (80).png>)



## AWS Run Commands

* Only works if EC2 instance connect or Session Manager has been enabled. Else, a SSH key is required.

## Google Cloud Platform Run commands

```csharp
gcloud beta compute ssh --zone "us-west1-a" "MY_INSTANCE" --project "MY_PROJECT"
```
