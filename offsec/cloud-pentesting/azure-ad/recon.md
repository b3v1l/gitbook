# Recon

## Tenant Discovery

**Manually**

**• Get if Azure tenant is in use, tenant name and Federation**&#x20;

`https://login.microsoftonline.com/getuserrealm.srf?login=[USERNAME@DOMAIN]&xml=1`



**• Get the Tenant ID**

`https://login.microsoftonline.com/[DOMAIN]/.well-known/openid-configuration`



**• Validate Email ID by sending POST requests to**

`https://login.microsoftonline.com/common/GetCredentialType`

### AADInternals

`Import-Module .\AADInternals.psd1 -verbose`

**Get tenant name, authentication, brand and domain name**

```
Get-AADIntLoginInformation -Username dontexist@company.onmicrosoft.com
```

**Retrieve TenantID**

`Get-AADIntTenantID -domain company.onmicrosoft.com`

**Get Tenant domains**

`Get-AADIntTenantDomains -Domain company.com`

**Get all info as an outsider**

`Invoke-AADIntReconAsOutsider -DomainName company.onmicrosoft.com`



{% embed url="https://github.com/Gerenios/AADInternals" %}

## Email IDS

> Search for valid email addresses and proceed with password spraying attacks

### o365creper

{% embed url="https://github.com/LMGsec/o365creeper" %}

**Usage:**

`C:\Python27\python.exe .\o365creeper.py -f C:\Desktop\email.txt -o C:\Desktop\target-email.txt`

