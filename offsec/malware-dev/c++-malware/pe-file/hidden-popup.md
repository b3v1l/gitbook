# Hidden popup

## Hidden malware \(no popup\)

### WinAPI WinMain

Replace main function \(ie `int main(int argc, char *argv[])`\) with

```cpp
int WINAPI wWinMain(HINSTANCE hInstance, HINSTANCE hPrevInstance, PWSTR pCmdLine, int nCmdShow) {
```

Then compile the code using **/SUBSYSTEM:WINDOWS** which is GUI mode \(no printf BTW\)

```bash
cl.exe /nologo /Ox /MT /W0 /GS- /DNDEBUG /Tcmalware.cpp /link /OUT:malware.exe /SUBSYSTEM:WINDOWS /MACHINE:x64
```

